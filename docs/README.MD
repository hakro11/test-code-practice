# Section 2. 단위 테스트
### 단위 테스트
- 작은 코드 단위를 독립적으로 겅증하는 테스트(클래스 or 메서드)
- 검증 속도가 빠르고, 안정적이다.

### JUnit5
- 단위 테스트를 위한 테스트 프레임워크
- XUnit - Kent Beck(Sunit(SmallTalk), JUnit(Java), NUnit(.NET)) 등

### AssertJ
- 테스트 코드 작성을 원활하게 돕는 테스트 라이브러리
- 풍부한 API, 메서드 체이닝 지원

### 테스트 케이스 세분화하기
- 해피케이스
- 예외 케이스 : 경계값 테스트 -> 범위(이상, 이하, 초과, 미만), 구간, 날짜 등

### 테스트하기 어려운 영역
- 관측할 때마다 다른 값에 의존하는 코드(현재 날짜/시간, 랜덤 값, 전역변수/함수, 사용자 입력 등)
- 외부 세계에 영향을 주는 코드(표준 출력, 메시지 발송, 데이터베이스에 기록하기 등)

# Section 3. TDD
## 피드백
### 선 기능구현, 후 테스트 작성
- 테스트 자체의 누락 가능성
- 특정 테스트 케이스만(해피케이스) 검증할 가능성
- 잘못된 구현을 다소 늦게 발견할 가능성

### 선 테스트 작성, 후 기능 구현
- 복잡도(유연하며 유지보수가 쉬운)가 낮은, 테스트 가능할 코드로 구현할 수 있게 한다.
- 쉽게 발견하기 어려운 엣지(Edge) 케이스를 놓치지 않게 해준다.
- 구현에 대한 빠른 피드백을 받을 수 있다.
- 과감한 리팩토링이 가능해진다.

# Section 4.
## 테스트 코드는 [**문서**]다.
### 문서?
- 프로덕션 기능을 설명하는 테스트 코드 문서
- 다양한 테스트 케이스를 통해 프로덕션 코드를 이해하는 시각과 관점을 보완
- 어느 한 사람이 과거에 경험했던 고민의 결과물을 팀 차원으로 승격시켜서, 모두의 자산으로 공유할 수 있다.

## DisplayName을 섬세하게
    -> 음료 1개 추가 테스트 (x) "~테스트" 지양하기
    -> 음료를 1개 추가할 수 있다. (o)
    -> 음료를 1개 추가하면 주문 목록에 담긴다. (o) => 테스트에 대한 결과값을 명시
    -> 특정 시간 이전에 주문을 생성하면 실패한다. (x)
    -> 영업 시작 시간 이전에는 주문을 생성할 수 없다. (o)
- 명사의 나열보다 문장으로 작성하기.
- 도메인 용어를 사용하여 한층 추상화된 내용을 담기 <br>
 ㄴ> 메서드 자체의 관점보다 도메인 정책 관점으로 <br>
- 테스트의 현상을 중점으로 기술하지 말 것 (성공한다, 실패한다 지양하고 도메인 내용을 중점으로 기술)

## BDD 스타일로 작성하기
### BDD(Behavior Driven Development)
- TDD에서 파생된 개발 방법
- 함수 단위의 테스트에 집중하기보다, 시나리오에 기반한 테스트케이스(TC) 자체에 집중하여 테스트 한다.
- 개발자가 아닌 사람이 봐도 이해할 수 있을 정도의 추상화 수준(레벨)을 권장

### Given / When / Then
- Given : 시나리오 진행에 필요한 모든 준비 과정(객체, 값, 상태 등) => 어떤 환경에서
- When : 시나리오 행동 진행 => 어떤 행동을 진행했을 때
- Then : 시나리오 진행에 대한 결과 명시, 검증 => 어떤 상태 변화가 일어난다.

## 레이어드 아키텍처(Layered Architecture)와 테스트
### Spring & JPA 기반 테스트
### Layered Architecture -> 관심사의 분리!
- Presentation Layer <=> Business Layer <=> Persistence Layer

### 통합 테스트
- 여러 모듈이 협력하는 기능을 통합적으로 검증하는 테스트
- 일반적으로 작은 범위의 단위 테스트만으로는 기능 전체의 신뢰성을 보장할 수 없다.
- 풍부한 단위 테스트 & 큰 기능 단위를 검증하는 통합 테스트

## Spring / JPA 훑어보기 & 기본 엔티티 설계
### Spring
- IoC(Inversion of Control)
- DI(Dependency Injection)
- AOP(Aspect Oriented Programming)

### ORM(Object-Relational Mapping)
- 객체 지향 패러다임과 관계형 DB 패러다임의 불일치
- 이전에는 개발자가 객체의 데이터를 한땀한땀 매핑하여 DB에 저장 및 조회(CRUD)
- ORM을 사용함으로써 개발자는 단순 작업을 줄이고, 비즈니스 로직에 집중할 수 있다.

### JPA(Java Persistence API)
- Java 진형의 ORM기술 표준
- 인터페이스이고, 여러 구현체가 있지만 보통 Hibernate를 많이 사용한다.
- 반복적인 CRUD SQL을 생성 및 실행해주고, 여러 부가 기능들을 제공한다.
- 편리하지만 쿼리를 직접 작성하지 않기 때문에, 어떤 식으로 쿼리가 만들어지고 실행되는지 명확하게 이해하고 있어야 한다.
- Spring 진영에서는 JPA를 한번 더 추상화한 Spring Data JPA 제공
- QueryDSL과 조합하여 많이 사용한다. (타입체크, 동적쿼리)

### 엔티티 설계


## Persistence Layer 테스트(1)
